---
layout: default
---
<!--<link href="../style.css" rel="stylesheet" type="text/css">-->
<body>
	<h1>AJAX Requesting A JSON File</h1>
	<h4><a href="https://lava84flow.github.io/CIT-261/">Back To Topics</a></h4>
    <!-- walkthrough video here -->
	<!--<iframe></iframe>-->
	<br>
	
    <!-- for live build
    "/CIT-261/JSON/Sample.json"
    -->
    <!-- for local build
    "Sample.json"
    -->
    
	<script>
function loadJSON() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("demo").innerHTML = this.responseText;
    }
  };
  xhttp.open("GET", "/CIT-261/JSON/Sample.json", true)
  xhttp.send();
}
	
    // Idealy these 3 functions would be loops, but I am no mood to make them loops at this point in time. 
		
function printNames() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var myObj = JSON.parse(this.responseText);
        document.getElementById("demo").innerHTML = 
            myObj.dude1.firstName + " " + myObj.dude1.lastName + "<br>" + 
            myObj.dude2.firstName + " " + myObj.dude2.lastName;
    }
  };
  xhttp.open("GET", "/CIT-261/JSON/Sample.json", true)
  xhttp.send();

}

function printHomePhone() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var myArr = JSON.parse(this.responseText);
        document.getElementById("demo").innerHTML = 
            myArr.dude1.firstName + ": " + myArr.dude1.phoneNumber[0].number + "<br>" +
            myArr.dude2.firstName + ": " + myArr.dude2.phoneNumber[0].number;
    }
  };
  xhttp.open("GET", "/CIT-261/JSON/Sample.json", true)
  xhttp.send();

}
		
function printMobilePhone() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var myArr = JSON.parse(this.responseText);
        document.getElementById("demo").innerHTML = 
            myArr.dude1.firstName + ": " + myArr.dude1.phoneNumber[1].number + "<br>" +
            myArr.dude2.firstName + ": " + myArr.dude2.phoneNumber[1].number;
    }
  };
  xhttp.open("GET", "/CIT-261/JSON/Sample.json", true)
  xhttp.send();

}		

</script>

<button type="button" onclick="loadJSON()">Get JSON</button>
<button type="button" onclick="printNames()">Get Names</button>
<button type="button" onclick="printHomePhone()">Get Home Phone</button>
<button type="button" onclick="printMobilePhone()">Get Mobile Phone</button>
	
<pre id="demo">Let AJAX change this text.</pre>

	
</body>